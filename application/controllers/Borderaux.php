<?php
 defined("\102\101\x53\105\120\x41\124\110") or die("\x4e\x6f\x20\x64\x69\x72\145\x63\x74\x20\x73\x63\x72\x69\x70\164\40\x61\x63\143\145\163\163\40\141\x6c\154\157\x77\x65\144"); class borderaux extends CI_Controller { public function __construct() { parent::__construct(); $this->load->library("\160\x61\162\163\145\162"); $this->load->helper("\165\162\154"); $this->load->helper("\x66\157\162\x6d"); $this->load->library("\x61\x75\164\150\151\164"); $this->load->helper("\141\165\x74\x68\x69\x74"); $this->config->load("\141\165\164\150\151\164"); $this->load->helper("\165\162\154"); date_default_timezone_set("\101\146\162\151\143\141\57\x4b\151\147\x61\154\151"); $this->load->library("\163\x65\x73\x73\x69\157\156"); $this->load->model("\144\141\164\x61\x5f\x6d\x6f\x64\145\x6c"); } public function index() { if (!logged_in()) { redirect("\141\x75\x74\x68\x2f\154\x6f\147\151\156"); } $user_data = (array) user(); $email = $user_data["\x65\155\x61\x69\x6c"]; $user_permission = $this->data_model->getUserPermision($email); if ($user_permission["\x63\x68\x65\143\153\x73\164\141\164\145\x5f\146\151\156\141\x6e\143\x65\163"] == "\x69\x6e\x61\x63\x74\x69\166\x65") { redirect("\x6e\157\137\160\145\162\155\x69\163\x73\x69\157\x6e"); } $loggedUser = $user_permission["\156\157\x6d"]; $Fonction = $user_permission["\x66\157\x6e\x63\164\151\x6f\156"]; $style = "\xa\x9\11\11\x9\142\157\144\x79\x20\x7b\x20\xa\11\x9\x9\x9\x9\11\146\157\x6e\164\55\146\141\x6d\x69\x6c\171\x3a\x20\x44\145\x6a\x61\126\165\x53\x61\156\163\73\xa\11\11\11\x9\x9\x9\x66\x6f\156\x74\55\x73\151\172\145\72\63\x35\45\x3b\x20\xa\11\x9\x9\11\11\175\xa\12\x9\x9\11\x9\52\173\xa\11\x9\11\x9\x9\x62\141\x63\153\147\162\157\x75\156\144\x3a\x20\165\x72\154\50" . base_url("\146\x61\166\151\x63\157\156\56\160\156\147") . "\51\40\x6e\157\55\162\x65\160\145\141\x74\40\x63\145\x6e\x74\x65\162\x20\143\x65\x6e\x74\x65\x72\x20\x66\151\170\145\x64\x3b\xa\11\x9\x9\11\x7d\xa\11\x9\11\x9\56\x72\157\167\x7b\12\x9\11\x9\11\11\160\x61\144\x64\151\156\147\72\x31\45\x3b\12\x9\x9\x9\x9\11\x70\141\x64\x64\x69\156\x67\55\142\x6f\x74\x74\x6f\155\x3a\x2d\x36\45\x3b\xa\x9\11\11\x9\x7d\12\xa\11\x9\11\x9\x2e\164\151\164\x6c\145\173\xa\x9\x9\x9\11\11\146\157\156\x74\x2d\x73\151\172\145\72\70\160\x78\73\xa\11\11\x9\x9\x7d\xa\12\x9\11\x9\x9\150\x36\x7b\xa\x9\11\x9\x9\x9\144\x69\x73\x70\x6c\x61\171\x3a\x62\154\x6f\143\x6b\73\12\11\11\x9\11\x9\x70\x61\144\x64\151\x6e\147\x20\x3a\x20\x35\160\x78\x3b\xa\11\11\11\x9\11\x62\x6f\x72\144\x65\162\x2d\x73\x74\171\x6c\x65\x3a\x20\144\x6f\164\164\x65\x64\73\12\11\11\x9\11\x9\x62\x6f\x72\144\145\x72\x2d\x63\157\x6c\157\162\72\x20\x62\x6c\x75\x65\x3b\12\x9\11\11\x9\11\142\x6f\162\x64\x65\162\x2d\x6c\145\x66\164\x3a\156\157\x6e\145\73\xa\x9\11\x9\11\11\142\x6f\x72\x64\145\x72\55\162\151\x67\150\x74\x3a\x6e\157\x6e\x65\x3b\xa\11\x9\11\x9\11\142\x6f\162\144\x65\x72\x2d\x77\151\144\164\x68\x3a\x31\160\x78\73\12\xa\x9\x9\11\x9\175\12\xa\x9\11\x9\x9\x68\162\173\12\12\x9\x9\x9\11\11\x63\157\x6c\x6f\162\x3a\x72\x65\x64\x3b\xa\x9\11\x9\11\x7d\xa\xa\11\x9\x9\x9\142\x6f\x64\x79\x2c\150\61\x2c\x68\x32\x2c\x68\63\54\150\x34\54\x68\65\x2c\x68\x36\173\12\x9\11\11\11\x9\x66\157\x6e\164\x2d\146\x61\x6d\151\154\x79\72\155\157\x6e\x6f\x73\x70\141\143\x65\73\xa\x9\x9\x9\x9\x9\x66\157\156\164\55\x73\151\172\145\x3a\67\x70\x78\x3b\12\x9\11\11\x9\175\12\12\x9\x9\11\11\x74\162\173\12\x9\x9\11\x9\x9\155\141\x72\147\x69\156\x3a\62\x70\x78\x3b\xa\x9\x9\11\11\x7d\12\xa\11\11\11\x9\164\x61\142\x6c\145\x20\x74\150\x65\141\144\x20\164\x72\40\164\x64\x7b\12\11\11\11\11\40\40\x20\40\x66\157\156\164\55\x66\141\155\151\x6c\x79\72\40\155\157\156\157\163\x70\x61\143\145\x3b\xa\11\11\x9\11\175\xa\11\11\11\x9\164\141\x62\154\x65\x20\164\142\x6f\144\x79\40\164\162\x20\164\x64\x7b\xa\x9\11\x9\11\40\x20\x20\x20\x66\x6f\156\164\x2d\146\x61\x6d\x69\154\171\72\40\155\x6f\x6e\x6f\x73\160\141\x63\145\x3b\12\x9\11\11\x9\x7d\12\12\11\11\x9\11\x2e\x67\x67\54\x20\x74\144\x7b\12\x9\x9\11\x9\x9\x66\157\156\164\55\x73\x69\x7a\145\x3a\x20\x38\160\x78\x3b\40\146\157\x6e\164\x2d\x66\x61\x6d\x69\154\x79\x3a\x20\x27\155\157\x6e\x6f\x73\x70\141\x63\145\47\73\40\146\x6f\x6e\164\55\167\145\x69\x67\150\164\x3a\x20\142\x6f\154\144\x65\162\x3b\xa\x9\x9\x9\x9\175\xa\12\11\x9\11\11\150\x36\x7b\12\x9\11\x9\x9\11\x66\x6f\x6e\164\55\x73\151\172\x65\x3a\x31\x33\x70\x78\40\x21\151\155\160\157\162\x74\x61\156\x74\x3b\xa\x9\11\x9\11\x7d\xa\12\11\11\x9\11\x68\x34\x7b\12\x9\x9\x9\x9\x9\146\157\156\164\x2d\163\151\x7a\145\x3a\61\70\160\170\x20\x21\151\155\160\x6f\162\164\141\156\164\73\xa\x9\x9\x9\x9\x7d\xa\xa\x9\x9\11\11\146\157\157\x74\x65\162\x20\x70\x7b\xa\x9\x9\11\x9\11\x66\x6f\156\164\55\163\x69\x7a\x65\x3a\x35\x70\x78\73\xa\x9\x9\11\11\175"; $n = 8; function postName($n) { $characters = "\60\61\62\x33\64\65\66\67\70\71\163\x66\164\144\x70\141\x67\150\x73\161\x70\x61\144\142\144\171\162\x71\163\x79\167\x7a\170\x67\x61\144\x73\x72\x71\x70\163\x30\x6f\x6c\107\170\x74\144\x73\x66\156\x74\x77\x72\x76\141\x73\x65\141\x73\x78\150\x61\156\x73\164\x77\145\x77\144\167\x79\144\x72\x78\144\165\163\x71\164\x6f\x71\145\x76\163\x64\141\163\150\142\x61\x66\x6a\x6c\155\172\156\142\x65\x72\167\164\x61"; $randomString = ''; for ($i = 0; $i < $n; $i++) { $index = rand(0, strlen($characters) - 1); $randomString .= $characters[$index]; } return $randomString; } $data = array("\163\154\151\x70\137\x6e\165\155\137\x69\x64" => $this->input->post("\163\x74\165\x64\x65\x6e\x74\137\x63\x6c\141\163\x73\x65") . "\x2d" . strtoupper($this->input->post("\x73\x74\x75\x64\x65\x6e\x74\x5f\146\x6e\141\155\145")) . "\x23" . dechex(time()) . "\x23" . strtolower($this->input->post("\163\x74\x75\144\x65\x6e\164\137\x69\144")), "\x72\141\156\144\x6f\x6d" => postName($n), "\x73\164\x75\x64\145\156\x74\x5f\146\x6e\x61\x6d\145" => $this->input->post("\163\x74\165\144\145\x6e\x74\137\x66\x6e\x61\x6d\145"), "\156\x6f\x6d\x5f\144\145\x5f\x6c\145\x6c\145\x76\145" => strtoupper($this->input->post("\163\x74\x75\144\145\156\164\137\156\141\155\x65")), "\163\x74\165\x64\145\x6e\x74\x5f\x69\144" => $this->input->post("\x73\x74\165\x64\145\156\x74\137\151\144"), "\x73\164\165\144\x65\156\x74\x5f\143\154\x61\163\x73\145" => $this->input->post("\x73\164\x75\x64\x65\x6e\164\x5f\x63\154\141\163\x73\145"), "\x6d\151\156\x65\162\x76\x61\x6c" => $this->input->post("\155\151\x6e\145\x72\166\x61\154"), "\143\157\x6e\x73\164\x72\165\x63\x74\x69\x6f\x6e" => $this->input->post("\143\x6f\x6e\163\164\162\x75\143\164\151\157\x6e"), "\x62\151\x62\154\x69\x6f\164\x68\x65\161\x75\x65" => $this->input->post("\x62\151\142\154\151\157\164\x68\145\x71\165\145"), "\x74\162\x61\156\x73\160\157\162\164" => $this->input->post("\164\x72\x61\156\x73\x70\x6f\162\x74"), "\x51\x75\141\156\x74\151\x6e\x65" => $this->input->post("\x51\x75\x61\x6e\x74\x69\x6e\145"), "\x73\x74\171\154\145" => $style, "\141\x75\x74\150\x6f\162" => $loggedUser, "\x46\x6f\156\x63\x74\x69\157\x6e" => $Fonction, "\x64\141\164\145" => Date("\x6a\40\x46\x20\40\x59\40\x2c\x20\x48\72\151\72\163"), "\x6c\157\x67\157" => base_url("\146\x61\166\151\143\x6f\156\56\160\156\x67"), "\x73\x6f\155\x6d\x65\x5f\164\157\x74\141\154" => floatval($this->input->post("\x6d\x69\156\145\162\x76\x61\154")) + floatval($this->input->post("\x63\157\x6e\x73\x74\162\x75\x63\x74\x69\157\x6e")) + floatval($this->input->post("\x62\151\x62\x6c\x69\x6f\164\x68\145\161\x75\145")) + floatval($this->input->post("\164\x72\x61\156\163\160\x6f\x72\x74")) + floatval($this->input->post("\121\x75\x61\x6e\164\151\156\x65")), "\x63\x6f\160\171\162\151\147\x68\164" => "\x26\143\157\160\x79\x3b\x20\62\60\62\x30\x20\x75\x6a\156\55\x65\154\145\143\164\162\157\156\x69\143\55\163\x79\163\164\145\x6d\x2c\x20\x47\162\x6f\165\x70\x20\123\x75\x70\x72\x61\40\105\154\x65\x63\164\x72\157\156\x69\143"); if ($this->input->post("\x61\143\164\151\x6f\x6e") == "\160\162\x69\156\x74") { if (empty($_POST)) { redirect("\144\x61\x73\x68\142\x6f\x61\162\x64\57\x66\151\x6e\x61\156\143\145\163\57\x30\57\x30\x2f\60\x2f\60\57\x35\x2f"); } $processor = $loggedUser; $finance_password = "\165\x6a\156\x2d\x66\151\x6e\x61\x6e\143\x65\62\60\62\x30"; if (strcmp($finance_password, $this->input->post("\x72\141\156\144\x6f\155\x6e\x5f\x63\x68\x65\143\153")) == 0) { $this->session->unset_userdata("\160\144\146\x5f\x64\x61\164\x61"); $this->load->model("\x64\141\164\x61\137\x6d\157\x64\x65\154"); $this->load->library("\x73\145\163\x73\x69\x6f\x6e"); $this->session->set_userdata(array("\x70\144\146\137\144\x61\164\141" => $data)); $res = $this->data_model->checkout($processor, $_SESSION["\x70\x64\x66\137\144\x61\164\141"]); if (!$res) { $_SESSION["\160\144\x66\137\x64\x61\164\141"] = array(); redirect("\144\141\x73\x68\x62\157\x61\162\144\57\x66\151\x6e\x61\156\143\x65\163\57\60\57\60\x2f\60\57\x30\57\67"); } redirect("\144\x61\163\150\142\157\141\162\144\57\x66\151\156\141\156\x63\145\163\x2f\x30\57\60\x2f\x30\57\60\x2f\x34\x2f"); } else { redirect("\144\x61\x73\x68\142\157\x61\162\x64\x2f\x66\151\x6e\141\x6e\143\145\x73\x2f\x30\x2f\x30\57\60\x2f\x30\57\x33\57"); } } elseif ($this->input->post("\141\x63\164\151\x6f\x6e") == "\166\145\x72\x69\x66\x69\x65\162") { $this->parser->parse("\146\157\162\x6d\x5f\x62\x6f\x72\x64\145\162\x65\141\165", $data); } else { redirect("\144\141\163\150\x62\x6f\x61\x72\x64\x2f\146\151\x6e\141\156\143\145\x73"); } } }